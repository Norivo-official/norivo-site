
<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8" />
    <title>Profil Pupila</title>
</head>
<body>
    <div class="pet-profile">
        <img id="pet-photo" src="" alt="Zdjęcie pupila" style="max-width: 100%; border-radius: 1rem; margin-bottom: 1rem;" />
        <h2 id="pet-name">Imię pupila</h2>
        <p><strong>Właściciel:</strong> <span id="owner-name"></span></p>
        <p><strong>Telefon:</strong> <span id="phone"></span></p>
        <p><strong>Adres:</strong> <span id="address"></span></p>
    </div>

    <script>
    const params = new URLSearchParams(window.location.search);
    const id = params.get("id");

    fetch("https://xqlxotxeuadglvgdqral.supabase.co/rest/v1/pets?id=eq." + id, {
        headers: {
            apikey: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhxbHhvdHhldWFkZ2x2Z2RxcmFsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI5MDM5NTUsImV4cCI6MjA2ODQ3OTk1NX0.a7mW1MQtr2dWL4_pgflGNpp5xVRc8Th7B0L6iiiFghw",
            "Content-Type": "application/json"
        }
    })
    .then(res => res.json())
    .then(data => {
        if (data.length > 0) {
            const pet = data[0];
            document.getElementById("pet-name").textContent = pet.pet_name;
            document.getElementById("owner-name").textContent = pet.owner_name;
            document.getElementById("phone").textContent = pet.phone;
            document.getElementById("address").textContent = pet.address;
            if (pet.photo_url) {
                document.getElementById("pet-photo").src = pet.photo_url;
            }
        } else {
            document.body.innerHTML = "<p>Nie znaleziono profilu.</p>";
        }
    });
    </script>
</body>
</html>
